grafana:
  enabled: true
  service:
    type: LoadBalancer

  # Enable the dashboard sidecar
  sidecar:
    dashboards:
      enabled: true
      label: grafana_dashboard
      labelValue: "1"
      folder: /var/lib/grafana/dashboards
      folderAnnotation: grafana_folder
      provider:
        name: "sidecarProvider"
        orgId: 1
        folder: ""
        type: file
        disableDeletion: false
        allowUiUpdates: true
        updateIntervalSeconds: 30
        options:
          path: /var/lib/grafana/dashboards
    datasources:
      enabled: true
      label: grafana_datasource
      labelValue: "1"
      searchNamespace: ALL
      initDatasources: true

  # Optional: set admin credentials here or via existing secret
  adminUser: admin
  adminPassword: admin

  # Persist data if you want dashboards saved between pod restarts
  persistence:
    enabled: true
    size: 10Gi
    storageClassName: gp2 # or your EKS storage class

# Keep Prometheus and Alertmanager defaults unless you want to override
prometheus:
  prometheusSpec:
    retention: 15d
    scrapeInterval: 30s

alertmanager:
  alertmanagerSpec:
    replicas: 1
